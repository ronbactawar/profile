<!DOCTYPE html>
<HTML lang = "en">
<HEAD>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
  <title>Wine Quality</title>
  

  <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]},
      TeX: { equationNumbers: { autoNumber: "AMS" } }
    });
  </script>

  <script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
  </script>

  
<style>
pre.hljl {
    border: 1px solid #ccc;
    margin: 5px;
    padding: 5px;
    overflow-x: auto;
    color: rgb(68,68,68); background-color: rgb(251,251,251); }
pre.hljl > span.hljl-t { }
pre.hljl > span.hljl-w { }
pre.hljl > span.hljl-e { }
pre.hljl > span.hljl-eB { }
pre.hljl > span.hljl-o { }
pre.hljl > span.hljl-k { color: rgb(148,91,176); font-weight: bold; }
pre.hljl > span.hljl-kc { color: rgb(59,151,46); font-style: italic; }
pre.hljl > span.hljl-kd { color: rgb(214,102,97); font-style: italic; }
pre.hljl > span.hljl-kn { color: rgb(148,91,176); font-weight: bold; }
pre.hljl > span.hljl-kp { color: rgb(148,91,176); font-weight: bold; }
pre.hljl > span.hljl-kr { color: rgb(148,91,176); font-weight: bold; }
pre.hljl > span.hljl-kt { color: rgb(148,91,176); font-weight: bold; }
pre.hljl > span.hljl-n { }
pre.hljl > span.hljl-na { }
pre.hljl > span.hljl-nb { }
pre.hljl > span.hljl-nbp { }
pre.hljl > span.hljl-nc { }
pre.hljl > span.hljl-ncB { }
pre.hljl > span.hljl-nd { color: rgb(214,102,97); }
pre.hljl > span.hljl-ne { }
pre.hljl > span.hljl-neB { }
pre.hljl > span.hljl-nf { color: rgb(66,102,213); }
pre.hljl > span.hljl-nfm { color: rgb(66,102,213); }
pre.hljl > span.hljl-np { }
pre.hljl > span.hljl-nl { }
pre.hljl > span.hljl-nn { }
pre.hljl > span.hljl-no { }
pre.hljl > span.hljl-nt { }
pre.hljl > span.hljl-nv { }
pre.hljl > span.hljl-nvc { }
pre.hljl > span.hljl-nvg { }
pre.hljl > span.hljl-nvi { }
pre.hljl > span.hljl-nvm { }
pre.hljl > span.hljl-l { }
pre.hljl > span.hljl-ld { color: rgb(148,91,176); font-style: italic; }
pre.hljl > span.hljl-s { color: rgb(201,61,57); }
pre.hljl > span.hljl-sa { color: rgb(201,61,57); }
pre.hljl > span.hljl-sb { color: rgb(201,61,57); }
pre.hljl > span.hljl-sc { color: rgb(201,61,57); }
pre.hljl > span.hljl-sd { color: rgb(201,61,57); }
pre.hljl > span.hljl-sdB { color: rgb(201,61,57); }
pre.hljl > span.hljl-sdC { color: rgb(201,61,57); }
pre.hljl > span.hljl-se { color: rgb(59,151,46); }
pre.hljl > span.hljl-sh { color: rgb(201,61,57); }
pre.hljl > span.hljl-si { }
pre.hljl > span.hljl-so { color: rgb(201,61,57); }
pre.hljl > span.hljl-sr { color: rgb(201,61,57); }
pre.hljl > span.hljl-ss { color: rgb(201,61,57); }
pre.hljl > span.hljl-ssB { color: rgb(201,61,57); }
pre.hljl > span.hljl-nB { color: rgb(59,151,46); }
pre.hljl > span.hljl-nbB { color: rgb(59,151,46); }
pre.hljl > span.hljl-nfB { color: rgb(59,151,46); }
pre.hljl > span.hljl-nh { color: rgb(59,151,46); }
pre.hljl > span.hljl-ni { color: rgb(59,151,46); }
pre.hljl > span.hljl-nil { color: rgb(59,151,46); }
pre.hljl > span.hljl-noB { color: rgb(59,151,46); }
pre.hljl > span.hljl-oB { color: rgb(102,102,102); font-weight: bold; }
pre.hljl > span.hljl-ow { color: rgb(102,102,102); font-weight: bold; }
pre.hljl > span.hljl-p { }
pre.hljl > span.hljl-c { color: rgb(153,153,119); font-style: italic; }
pre.hljl > span.hljl-ch { color: rgb(153,153,119); font-style: italic; }
pre.hljl > span.hljl-cm { color: rgb(153,153,119); font-style: italic; }
pre.hljl > span.hljl-cp { color: rgb(153,153,119); font-style: italic; }
pre.hljl > span.hljl-cpB { color: rgb(153,153,119); font-style: italic; }
pre.hljl > span.hljl-cs { color: rgb(153,153,119); font-style: italic; }
pre.hljl > span.hljl-csB { color: rgb(153,153,119); font-style: italic; }
pre.hljl > span.hljl-g { }
pre.hljl > span.hljl-gd { }
pre.hljl > span.hljl-ge { }
pre.hljl > span.hljl-geB { }
pre.hljl > span.hljl-gh { }
pre.hljl > span.hljl-gi { }
pre.hljl > span.hljl-go { }
pre.hljl > span.hljl-gp { }
pre.hljl > span.hljl-gs { }
pre.hljl > span.hljl-gsB { }
pre.hljl > span.hljl-gt { }
</style>



  <style type="text/css">
  @font-face {
  font-style: normal;
  font-weight: 300;
}
@font-face {
  font-style: normal;
  font-weight: 400;
}
@font-face {
  font-style: normal;
  font-weight: 600;
}
html {
  font-family: sans-serif; /* 1 */
  -ms-text-size-adjust: 100%; /* 2 */
  -webkit-text-size-adjust: 100%; /* 2 */
}
body {
  margin: 0;
}
article,
aside,
details,
figcaption,
figure,
footer,
header,
hgroup,
main,
menu,
nav,
section,
summary {
  display: block;
}
audio,
canvas,
progress,
video {
  display: inline-block; /* 1 */
  vertical-align: baseline; /* 2 */
}
audio:not([controls]) {
  display: none;
  height: 0;
}
[hidden],
template {
  display: none;
}
a:active,
a:hover {
  outline: 0;
}
abbr[title] {
  border-bottom: 1px dotted;
}
b,
strong {
  font-weight: bold;
}
dfn {
  font-style: italic;
}
h1 {
  font-size: 2em;
  margin: 0.67em 0;
}
mark {
  background: #ff0;
  color: #000;
}
small {
  font-size: 80%;
}
sub,
sup {
  font-size: 75%;
  line-height: 0;
  position: relative;
  vertical-align: baseline;
}
sup {
  top: -0.5em;
}
sub {
  bottom: -0.25em;
}
img {
  border: 0;
}
svg:not(:root) {
  overflow: hidden;
}
figure {
  margin: 1em 40px;
}
hr {
  -moz-box-sizing: content-box;
  box-sizing: content-box;
  height: 0;
}
pre {
  overflow: auto;
}
code,
kbd,
pre,
samp {
  font-family: monospace, monospace;
  font-size: 1em;
}
button,
input,
optgroup,
select,
textarea {
  color: inherit; /* 1 */
  font: inherit; /* 2 */
  margin: 0; /* 3 */
}
button {
  overflow: visible;
}
button,
select {
  text-transform: none;
}
button,
html input[type="button"], /* 1 */
input[type="reset"],
input[type="submit"] {
  -webkit-appearance: button; /* 2 */
  cursor: pointer; /* 3 */
}
button[disabled],
html input[disabled] {
  cursor: default;
}
button::-moz-focus-inner,
input::-moz-focus-inner {
  border: 0;
  padding: 0;
}
input {
  line-height: normal;
}
input[type="checkbox"],
input[type="radio"] {
  box-sizing: border-box; /* 1 */
  padding: 0; /* 2 */
}
input[type="number"]::-webkit-inner-spin-button,
input[type="number"]::-webkit-outer-spin-button {
  height: auto;
}
input[type="search"] {
  -webkit-appearance: textfield; /* 1 */
  -moz-box-sizing: content-box;
  -webkit-box-sizing: content-box; /* 2 */
  box-sizing: content-box;
}
input[type="search"]::-webkit-search-cancel-button,
input[type="search"]::-webkit-search-decoration {
  -webkit-appearance: none;
}
fieldset {
  border: 1px solid #c0c0c0;
  margin: 0 2px;
  padding: 0.35em 0.625em 0.75em;
}
legend {
  border: 0; /* 1 */
  padding: 0; /* 2 */
}
textarea {
  overflow: auto;
}
optgroup {
  font-weight: bold;
}
table {
  font-family: monospace, monospace;
  font-size : 0.8em;
  border-collapse: collapse;
  border-spacing: 0;
}
td,
th {
  padding: 0;
}
thead th {
    border-bottom: 1px solid black;
    background-color: white;
}
tr:nth-child(odd){
  background-color: rgb(248,248,248);
}


/*
* Skeleton V2.0.4
* Copyright 2014, Dave Gamache
* www.getskeleton.com
* Free to use under the MIT license.
* http://www.opensource.org/licenses/mit-license.php
* 12/29/2014
*/
.container {
  position: relative;
  width: 100%;
  max-width: 960px;
  margin: 0 auto;
  padding: 0 20px;
  box-sizing: border-box; }
.column,
.columns {
  width: 100%;
  float: left;
  box-sizing: border-box; }
@media (min-width: 400px) {
  .container {
    width: 85%;
    padding: 0; }
}
@media (min-width: 550px) {
  .container {
    width: 80%; }
  .column,
  .columns {
    margin-left: 4%; }
  .column:first-child,
  .columns:first-child {
    margin-left: 0; }

  .one.column,
  .one.columns                    { width: 4.66666666667%; }
  .two.columns                    { width: 13.3333333333%; }
  .three.columns                  { width: 22%;            }
  .four.columns                   { width: 30.6666666667%; }
  .five.columns                   { width: 39.3333333333%; }
  .six.columns                    { width: 48%;            }
  .seven.columns                  { width: 56.6666666667%; }
  .eight.columns                  { width: 65.3333333333%; }
  .nine.columns                   { width: 74.0%;          }
  .ten.columns                    { width: 82.6666666667%; }
  .eleven.columns                 { width: 91.3333333333%; }
  .twelve.columns                 { width: 100%; margin-left: 0; }

  .one-third.column               { width: 30.6666666667%; }
  .two-thirds.column              { width: 65.3333333333%; }

  .one-half.column                { width: 48%; }

  /* Offsets */
  .offset-by-one.column,
  .offset-by-one.columns          { margin-left: 8.66666666667%; }
  .offset-by-two.column,
  .offset-by-two.columns          { margin-left: 17.3333333333%; }
  .offset-by-three.column,
  .offset-by-three.columns        { margin-left: 26%;            }
  .offset-by-four.column,
  .offset-by-four.columns         { margin-left: 34.6666666667%; }
  .offset-by-five.column,
  .offset-by-five.columns         { margin-left: 43.3333333333%; }
  .offset-by-six.column,
  .offset-by-six.columns          { margin-left: 52%;            }
  .offset-by-seven.column,
  .offset-by-seven.columns        { margin-left: 60.6666666667%; }
  .offset-by-eight.column,
  .offset-by-eight.columns        { margin-left: 69.3333333333%; }
  .offset-by-nine.column,
  .offset-by-nine.columns         { margin-left: 78.0%;          }
  .offset-by-ten.column,
  .offset-by-ten.columns          { margin-left: 86.6666666667%; }
  .offset-by-eleven.column,
  .offset-by-eleven.columns       { margin-left: 95.3333333333%; }

  .offset-by-one-third.column,
  .offset-by-one-third.columns    { margin-left: 34.6666666667%; }
  .offset-by-two-thirds.column,
  .offset-by-two-thirds.columns   { margin-left: 69.3333333333%; }

  .offset-by-one-half.column,
  .offset-by-one-half.columns     { margin-left: 52%; }

}
html {
  font-size: 62.5%; }
body {
  font-size: 1.5em; /* currently ems cause chrome bug misinterpreting rems on body element */
  line-height: 1.6;
  font-weight: 400;
  font-family: "Raleway", "HelveticaNeue", "Helvetica Neue", Helvetica, Arial, sans-serif;
  color: #222; }
h1, h2, h3, h4, h5, h6 {
  margin-top: 0;
  margin-bottom: 2rem;
  font-weight: 300; }
h1 { font-size: 3.6rem; line-height: 1.2;  letter-spacing: -.1rem;}
h2 { font-size: 3.4rem; line-height: 1.25; letter-spacing: -.1rem; }
h3 { font-size: 3.2rem; line-height: 1.3;  letter-spacing: -.1rem; }
h4 { font-size: 2.8rem; line-height: 1.35; letter-spacing: -.08rem; }
h5 { font-size: 2.4rem; line-height: 1.5;  letter-spacing: -.05rem; }
h6 { font-size: 1.5rem; line-height: 1.6;  letter-spacing: 0; }

p {
  margin-top: 0; }
a {
  color: #1EAEDB; }
a:hover {
  color: #0FA0CE; }
.button,
button,
input[type="submit"],
input[type="reset"],
input[type="button"] {
  display: inline-block;
  height: 38px;
  padding: 0 30px;
  color: #555;
  text-align: center;
  font-size: 11px;
  font-weight: 600;
  line-height: 38px;
  letter-spacing: .1rem;
  text-transform: uppercase;
  text-decoration: none;
  white-space: nowrap;
  background-color: transparent;
  border-radius: 4px;
  border: 1px solid #bbb;
  cursor: pointer;
  box-sizing: border-box; }
.button:hover,
button:hover,
input[type="submit"]:hover,
input[type="reset"]:hover,
input[type="button"]:hover,
.button:focus,
button:focus,
input[type="submit"]:focus,
input[type="reset"]:focus,
input[type="button"]:focus {
  color: #333;
  border-color: #888;
  outline: 0; }
.button.button-primary,
button.button-primary,
input[type="submit"].button-primary,
input[type="reset"].button-primary,
input[type="button"].button-primary {
  color: #FFF;
  background-color: #33C3F0;
  border-color: #33C3F0; }
.button.button-primary:hover,
button.button-primary:hover,
input[type="submit"].button-primary:hover,
input[type="reset"].button-primary:hover,
input[type="button"].button-primary:hover,
.button.button-primary:focus,
button.button-primary:focus,
input[type="submit"].button-primary:focus,
input[type="reset"].button-primary:focus,
input[type="button"].button-primary:focus {
  color: #FFF;
  background-color: #1EAEDB;
  border-color: #1EAEDB; }
input[type="email"],
input[type="number"],
input[type="search"],
input[type="text"],
input[type="tel"],
input[type="url"],
input[type="password"],
textarea,
select {
  height: 38px;
  padding: 6px 10px; /* The 6px vertically centers text on FF, ignored by Webkit */
  background-color: #fff;
  border: 1px solid #D1D1D1;
  border-radius: 4px;
  box-shadow: none;
  box-sizing: border-box; }
/* Removes awkward default styles on some inputs for iOS */
input[type="email"],
input[type="number"],
input[type="search"],
input[type="text"],
input[type="tel"],
input[type="url"],
input[type="password"],
textarea {
  -webkit-appearance: none;
     -moz-appearance: none;
          appearance: none; }
textarea {
  min-height: 65px;
  padding-top: 6px;
  padding-bottom: 6px; }
input[type="email"]:focus,
input[type="number"]:focus,
input[type="search"]:focus,
input[type="text"]:focus,
input[type="tel"]:focus,
input[type="url"]:focus,
input[type="password"]:focus,
textarea:focus,
select:focus {
  border: 1px solid #33C3F0;
  outline: 0; }
label,
legend {
  display: block;
  margin-bottom: .5rem;
  font-weight: 600; }
fieldset {
  padding: 0;
  border-width: 0; }
input[type="checkbox"],
input[type="radio"] {
  display: inline; }
label > .label-body {
  display: inline-block;
  margin-left: .5rem;
  font-weight: normal; }
ul {
  list-style: circle; }
ol {
  list-style: decimal; }
ul ul,
ul ol,
ol ol,
ol ul {
  margin: 1.5rem 0 1.5rem 3rem;
  font-size: 90%; }
li > p {margin : 0;}
th,
td {
  padding: 12px 15px;
  text-align: left;
  border-bottom: 1px solid #E1E1E1; }
th:first-child,
td:first-child {
  padding-left: 0; }
th:last-child,
td:last-child {
  padding-right: 0; }
button,
.button {
  margin-bottom: 1rem; }
input,
textarea,
select,
fieldset {
  margin-bottom: 1.5rem; }
pre,
blockquote,
dl,
figure,
table,
p,
ul,
ol,
form {
  margin-bottom: 1.0rem; }
.u-full-width {
  width: 100%;
  box-sizing: border-box; }
.u-max-full-width {
  max-width: 100%;
  box-sizing: border-box; }
.u-pull-right {
  float: right; }
.u-pull-left {
  float: left; }
hr {
  margin-top: 3rem;
  margin-bottom: 3.5rem;
  border-width: 0;
  border-top: 1px solid #E1E1E1; }
.container:after,
.row:after,
.u-cf {
  content: "";
  display: table;
  clear: both; }

pre {
  display: block;
  padding: 9.5px;
  margin: 0 0 10px;
  font-size: 13px;
  line-height: 1.42857143;
  word-break: break-all;
  word-wrap: break-word;
  border: 1px solid #ccc;
  border-radius: 4px;
}

pre.hljl {
  margin: 0 0 10px;
  display: block;
  background: #f5f5f5;
  border-radius: 4px;
  padding : 5px;
}

pre.output {
  background: #ffffff;
}

pre.code {
  background: #ffffff;
}

pre.julia-error {
  color : red
}

code,
kbd,
pre,
samp {
  font-family: Menlo, Monaco, Consolas, "Courier New", monospace;
  font-size: 0.9em;
}


@media (min-width: 400px) {}
@media (min-width: 550px) {}
@media (min-width: 750px) {}
@media (min-width: 1000px) {}
@media (min-width: 1200px) {}

h1.title {margin-top : 20px}
img {max-width : 100%}
div.title {text-align: center;}

  </style>
</HEAD>

<BODY>
  <div class ="container">
    <div class = "row">
      <div class = "col-md-12 twelve columns">
        <div class="title">
          <h1 class="title">Wine Quality</h1>
          <h5>Ronald Bactawar</h5>
          <h5>2020-10-01</h5>
        </div>

        
<pre class='hljl'>
<span class='hljl-k'>using</span><span class='hljl-t'> </span><span class='hljl-n'>Pkg</span><span class='hljl-t'>
</span><span class='hljl-n'>Pkg</span><span class='hljl-oB'>.</span><span class='hljl-nf'>activate</span><span class='hljl-p'>(</span><span class='hljl-s'>&quot;my_environment&quot;</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>shared</span><span class='hljl-oB'>=</span><span class='hljl-kc'>true</span><span class='hljl-p'>)</span><span class='hljl-t'>
</span><span class='hljl-n'>Pkg</span><span class='hljl-oB'>.</span><span class='hljl-nf'>add</span><span class='hljl-p'>(</span><span class='hljl-s'>&quot;MLJ&quot;</span><span class='hljl-p'>)</span><span class='hljl-t'>
</span><span class='hljl-n'>Pkg</span><span class='hljl-oB'>.</span><span class='hljl-nf'>add</span><span class='hljl-p'>(</span><span class='hljl-s'>&quot;MLJBase&quot;</span><span class='hljl-p'>)</span><span class='hljl-t'>
</span><span class='hljl-n'>Pkg</span><span class='hljl-oB'>.</span><span class='hljl-nf'>add</span><span class='hljl-p'>(</span><span class='hljl-s'>&quot;MLJFlux&quot;</span><span class='hljl-p'>)</span><span class='hljl-t'>
</span><span class='hljl-k'>using</span><span class='hljl-t'> </span><span class='hljl-n'>Dates</span><span class='hljl-t'>
</span><span class='hljl-k'>using</span><span class='hljl-t'> </span><span class='hljl-n'>Statistics</span><span class='hljl-t'>
</span><span class='hljl-k'>using</span><span class='hljl-t'> </span><span class='hljl-n'>DataFrames</span><span class='hljl-t'>
</span><span class='hljl-k'>using</span><span class='hljl-t'> </span><span class='hljl-n'>Queryverse</span><span class='hljl-t'>
</span><span class='hljl-k'>using</span><span class='hljl-t'> </span><span class='hljl-n'>VegaLite</span><span class='hljl-t'>
</span><span class='hljl-k'>using</span><span class='hljl-t'> </span><span class='hljl-n'>MLJ</span><span class='hljl-t'>
</span><span class='hljl-k'>using</span><span class='hljl-t'> </span><span class='hljl-n'>MLJBase</span><span class='hljl-t'>
</span><span class='hljl-k'>using</span><span class='hljl-t'> </span><span class='hljl-n'>Flux</span><span class='hljl-t'>
</span><span class='hljl-k'>using</span><span class='hljl-t'> </span><span class='hljl-n'>MLJFlux</span>
</pre>



<h3>Objective</h3>
<p>The objective is to predict wine quality from wine properties. Wine quality is ranked from 1-10, however for this analysis a three way partition of good moderate and poor will be used to represent wine quality instead. Predictor variables includes , fixed acidity, volatile acidity, citric acid, residual sugar, chlorides, free sulfur dioxide, total sulfur dioxide, density, pH, sulphates and alcohol.</p>
<h3>Data Description</h3>
<p>There are 11 potential continuous variables to predict wine quality. Although wine quality scores ranged between 0 and 10 user scores ranged between 3 and 9 with a mean of 5.81. An attempt will be made to partition the wine quality into the classes of good, moderate and poor.  The data is also relatively clean with no missing values.</p>


<pre class='hljl'>
<span class='hljl-cs'># Load the wine quality data from .csv file</span><span class='hljl-t'>
</span><span class='hljl-n'>wine</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-n'>Queryverse</span><span class='hljl-oB'>.</span><span class='hljl-nf'>load</span><span class='hljl-p'>(</span><span class='hljl-s'>&quot;/home/chigball/Data/wine.csv&quot;</span><span class='hljl-p'>)</span><span class='hljl-t'> </span><span class='hljl-oB'>|&gt;</span><span class='hljl-t'> </span><span class='hljl-n'>DataFrame</span><span class='hljl-p'>;</span><span class='hljl-t'>
</span><span class='hljl-nf'>describe</span><span class='hljl-p'>(</span><span class='hljl-n'>wine</span><span class='hljl-p'>)</span>
</pre>



<table class="data-frame"><thead><tr><th></th><th>variable</th><th>mean</th><th>min</th><th>median</th><th>max</th><th>nunique</th><th>nmissing</th><th>eltype</th></tr><tr><th></th><th>Symbol</th><th>Float64</th><th>Real</th><th>Float64</th><th>Real</th><th>Nothing</th><th>Nothing</th><th>DataType</th></tr></thead><tbody><p>12 rows × 8 columns</p><tr><th>1</th><td>fixed_acidity</td><td>7.21531</td><td>3.8</td><td>7.0</td><td>15.9</td><td></td><td></td><td>Float64</td></tr><tr><th>2</th><td>volatile_acidity</td><td>0.339666</td><td>0.08</td><td>0.29</td><td>1.58</td><td></td><td></td><td>Float64</td></tr><tr><th>3</th><td>citric_acid</td><td>0.318633</td><td>0.0</td><td>0.31</td><td>1.66</td><td></td><td></td><td>Float64</td></tr><tr><th>4</th><td>residual_sugar</td><td>5.44324</td><td>0.6</td><td>3.0</td><td>65.8</td><td></td><td></td><td>Float64</td></tr><tr><th>5</th><td>chlorides</td><td>0.0560339</td><td>0.009</td><td>0.047</td><td>0.611</td><td></td><td></td><td>Float64</td></tr><tr><th>6</th><td>free_sulfur_dioxide</td><td>30.5253</td><td>1.0</td><td>29.0</td><td>289.0</td><td></td><td></td><td>Float64</td></tr><tr><th>7</th><td>total_sulfur_dioxide</td><td>115.745</td><td>6.0</td><td>118.0</td><td>440.0</td><td></td><td></td><td>Float64</td></tr><tr><th>8</th><td>density</td><td>0.994697</td><td>0.98711</td><td>0.99489</td><td>1.03898</td><td></td><td></td><td>Float64</td></tr><tr><th>9</th><td>pH</td><td>3.2185</td><td>2.72</td><td>3.21</td><td>4.01</td><td></td><td></td><td>Float64</td></tr><tr><th>10</th><td>sulphates</td><td>0.531268</td><td>0.22</td><td>0.51</td><td>2.0</td><td></td><td></td><td>Float64</td></tr><tr><th>11</th><td>alcohol</td><td>10.4918</td><td>8.0</td><td>10.3</td><td>14.9</td><td></td><td></td><td>Float64</td></tr><tr><th>12</th><td>quality</td><td>5.81838</td><td>3</td><td>6.0</td><td>9</td><td></td><td></td><td>Int64</td></tr></tbody></table>

<h3>Data Exploration</h3>
<p>Data was explored by looking at wine scores and wine quality.</p>
<h5>Distribution of Wine Scores</h5>
<p>The distribution of wine scores was explored in order to define a reasonable partition of good, moderate and poor quality scores. It’s determined that poor &#40;0-5&#41;, moderate &#40;6&#41; and good &#40;7-10&#41; are logical choices.</p>


<pre class='hljl'>
<span class='hljl-cs'># Plot of distribution of wine scores</span><span class='hljl-t'>
</span><span class='hljl-nd'>@vlplot</span><span class='hljl-p'>(</span><span class='hljl-t'>
  </span><span class='hljl-n'>data</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-n'>wine</span><span class='hljl-p'>,</span><span class='hljl-t'>
  </span><span class='hljl-n'>mark</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-sc'>:bar</span><span class='hljl-p'>,</span><span class='hljl-t'>
  </span><span class='hljl-n'>x</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-s'>&quot;quality:n&quot;</span><span class='hljl-p'>,</span><span class='hljl-t'>
  </span><span class='hljl-n'>y</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-p'>{</span><span class='hljl-s'>&quot;count()&quot;</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>title</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-s'>&quot;count&quot;</span><span class='hljl-p'>},</span><span class='hljl-t'>
  </span><span class='hljl-n'>height</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-ni'>200</span><span class='hljl-p'>,</span><span class='hljl-t'>
  </span><span class='hljl-n'>width</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-ni'>200</span><span class='hljl-p'>,</span><span class='hljl-t'>
  </span><span class='hljl-n'>title</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-s'>&quot;Distribution of Wine Scores&quot;</span><span class='hljl-t'>
</span><span class='hljl-p'>)</span>
</pre>


<img src="data:image/png;base64,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"  />

<h5>Alcohol Content by Wine Quality</h5>
<p>Higher quality wine tend to to have higher alcohol conent on average than lower quality wine.</p>


<pre class='hljl'>
<span class='hljl-cs'># This is a function that maps scores into the class of poor, average or good</span><span class='hljl-t'>
</span><span class='hljl-k'>function</span><span class='hljl-t'> </span><span class='hljl-nf'>quality_class</span><span class='hljl-p'>(</span><span class='hljl-n'>x</span><span class='hljl-oB'>::</span><span class='hljl-n'>Number</span><span class='hljl-p'>)</span><span class='hljl-t'>
  </span><span class='hljl-k'>if</span><span class='hljl-t'> </span><span class='hljl-n'>x</span><span class='hljl-t'> </span><span class='hljl-oB'>&lt;=</span><span class='hljl-t'> </span><span class='hljl-ni'>5</span><span class='hljl-t'>
    </span><span class='hljl-n'>value</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-s'>&quot;poor&quot;</span><span class='hljl-t'>
  </span><span class='hljl-k'>elseif</span><span class='hljl-t'> </span><span class='hljl-n'>x</span><span class='hljl-t'> </span><span class='hljl-oB'>==</span><span class='hljl-t'> </span><span class='hljl-ni'>6</span><span class='hljl-t'>
    </span><span class='hljl-n'>value</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-s'>&quot;average&quot;</span><span class='hljl-t'>
  </span><span class='hljl-k'>elseif</span><span class='hljl-t'> </span><span class='hljl-n'>x</span><span class='hljl-t'> </span><span class='hljl-oB'>&gt;=</span><span class='hljl-ni'>7</span><span class='hljl-t'>
    </span><span class='hljl-n'>value</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-s'>&quot;good&quot;</span><span class='hljl-t'>
  </span><span class='hljl-k'>end</span><span class='hljl-t'>
  </span><span class='hljl-k'>return</span><span class='hljl-p'>(</span><span class='hljl-n'>value</span><span class='hljl-p'>)</span><span class='hljl-t'>
</span><span class='hljl-k'>end</span><span class='hljl-t'>


</span><span class='hljl-cs'># Redefine the variable quality into poor, averge or good</span><span class='hljl-t'>
</span><span class='hljl-n'>wine1</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-n'>wine</span><span class='hljl-t'> </span><span class='hljl-oB'>|&gt;</span><span class='hljl-t'> </span><span class='hljl-nd'>@mutate</span><span class='hljl-p'>(</span><span class='hljl-n'>quality</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>quality_class</span><span class='hljl-p'>(</span><span class='hljl-n'>_</span><span class='hljl-oB'>.</span><span class='hljl-n'>quality</span><span class='hljl-p'>))</span><span class='hljl-t'> </span><span class='hljl-oB'>|&gt;</span><span class='hljl-t'> </span><span class='hljl-n'>DataFrame</span><span class='hljl-p'>;</span><span class='hljl-t'>

</span><span class='hljl-cs'># Alcohol Content by Wine Quality</span><span class='hljl-t'>
</span><span class='hljl-nd'>@vlplot</span><span class='hljl-p'>(</span><span class='hljl-t'>
  </span><span class='hljl-n'>title</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-s'>&quot;Alcohol Content by Wine Quality&quot;</span><span class='hljl-p'>,</span><span class='hljl-t'>
  </span><span class='hljl-n'>data</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-n'>wine1</span><span class='hljl-p'>,</span><span class='hljl-t'>
  </span><span class='hljl-n'>mark</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-sc'>:bar</span><span class='hljl-p'>,</span><span class='hljl-t'>
  </span><span class='hljl-n'>x</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-p'>{</span><span class='hljl-s'>&quot;quality:n&quot;</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>sort</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-s'>&quot;y&quot;</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>axis</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-p'>{</span><span class='hljl-n'>labelAngle</span><span class='hljl-oB'>=</span><span class='hljl-ni'>0</span><span class='hljl-p'>}},</span><span class='hljl-t'>
  </span><span class='hljl-n'>y</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-p'>{</span><span class='hljl-s'>&quot;mean(alcohol)&quot;</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>title</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-s'>&quot;mean % alcohol&quot;</span><span class='hljl-p'>},</span><span class='hljl-t'>
  </span><span class='hljl-n'>width</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-ni'>200</span><span class='hljl-p'>,</span><span class='hljl-t'>
  </span><span class='hljl-n'>height</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-ni'>200</span><span class='hljl-t'>
</span><span class='hljl-p'>)</span>
</pre>


<img src="data:image/png;base64,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"  />

<h3>Data Preperation</h3>
<p>The target is &quot;quality&quot; as a categorical array &#40;y&#41;, while everything else is the predictor variable.  Data was split into training and testing sets at a 70/30 split</p>


<pre class='hljl'>
<span class='hljl-cs'># Define X and y</span><span class='hljl-t'>
</span><span class='hljl-n'>X</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-n'>wine1</span><span class='hljl-t'> </span><span class='hljl-oB'>|&gt;</span><span class='hljl-t'> </span><span class='hljl-nd'>@select</span><span class='hljl-p'>(</span><span class='hljl-oB'>-:</span><span class='hljl-n'>quality</span><span class='hljl-p'>)</span><span class='hljl-t'> </span><span class='hljl-oB'>|&gt;</span><span class='hljl-t'> </span><span class='hljl-n'>DataFrame</span><span class='hljl-p'>;</span><span class='hljl-t'>
</span><span class='hljl-n'>y</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>categorical</span><span class='hljl-p'>(</span><span class='hljl-n'>wine1</span><span class='hljl-oB'>.</span><span class='hljl-n'>quality</span><span class='hljl-p'>);</span><span class='hljl-t'>

</span><span class='hljl-cs'># Create an index for model and validation sets</span><span class='hljl-t'>
</span><span class='hljl-n'>m</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>v</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>partition</span><span class='hljl-p'>(</span><span class='hljl-nf'>eachindex</span><span class='hljl-p'>(</span><span class='hljl-n'>y</span><span class='hljl-p'>),</span><span class='hljl-t'> </span><span class='hljl-nfB'>0.7</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>shuffle</span><span class='hljl-oB'>=</span><span class='hljl-kc'>true</span><span class='hljl-p'>);</span><span class='hljl-t'> 

</span><span class='hljl-cs'># Create model/training sets</span><span class='hljl-t'>
</span><span class='hljl-n'>Xm</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-n'>X</span><span class='hljl-p'>[</span><span class='hljl-n'>m</span><span class='hljl-p'>,</span><span class='hljl-oB'>:</span><span class='hljl-p'>];</span><span class='hljl-t'>
</span><span class='hljl-n'>ym</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-n'>y</span><span class='hljl-p'>[</span><span class='hljl-n'>m</span><span class='hljl-p'>];</span><span class='hljl-t'>

</span><span class='hljl-cs'># Create validation/testing sets</span><span class='hljl-t'>
</span><span class='hljl-n'>Xv</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-n'>X</span><span class='hljl-p'>[</span><span class='hljl-n'>v</span><span class='hljl-p'>,</span><span class='hljl-oB'>:</span><span class='hljl-p'>];</span><span class='hljl-t'>
</span><span class='hljl-n'>yv</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-n'>y</span><span class='hljl-p'>[</span><span class='hljl-n'>v</span><span class='hljl-p'>];</span><span class='hljl-t'>

</span><span class='hljl-s'>&quot;&quot;</span>
</pre>



<h3>Model Building</h3>
<p>A machine learning pipeline was created with a standardizer and a 3 layer neural network .  After some experimentation the number of epochs and batch size was set at 8 and 1 respectively.  </p>


<pre class='hljl'>
<span class='hljl-nd'>@load</span><span class='hljl-t'> </span><span class='hljl-n'>NeuralNetworkClassifier</span><span class='hljl-p'>;</span><span class='hljl-t'>

</span><span class='hljl-cs'># Create a builder of ANN with two hiden layers</span><span class='hljl-t'>
</span><span class='hljl-k'>mutable struct</span><span class='hljl-t'> </span><span class='hljl-n'>MyANNBuilder</span><span class='hljl-t'> </span><span class='hljl-oB'>&lt;:</span><span class='hljl-t'> </span><span class='hljl-n'>MLJFlux</span><span class='hljl-oB'>.</span><span class='hljl-n'>Builder</span><span class='hljl-t'>
  </span><span class='hljl-n'>h1</span><span class='hljl-oB'>::</span><span class='hljl-n'>Int64</span><span class='hljl-t'> </span><span class='hljl-cs'># number of neurons in first hiden layer</span><span class='hljl-t'>
  </span><span class='hljl-n'>h2</span><span class='hljl-oB'>::</span><span class='hljl-n'>Int64</span><span class='hljl-t'> </span><span class='hljl-cs'># number of neurons in second hidden layer</span><span class='hljl-t'>
</span><span class='hljl-k'>end</span><span class='hljl-t'>


</span><span class='hljl-cs'># Define the build function </span><span class='hljl-t'>
</span><span class='hljl-k'>function</span><span class='hljl-t'> </span><span class='hljl-n'>MLJFlux</span><span class='hljl-oB'>.</span><span class='hljl-nf'>build</span><span class='hljl-p'>(</span><span class='hljl-n'>B</span><span class='hljl-oB'>::</span><span class='hljl-n'>MyANNBuilder</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>n_in</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>n_out</span><span class='hljl-p'>)</span><span class='hljl-t'>
  </span><span class='hljl-n'>h1</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-n'>B</span><span class='hljl-oB'>.</span><span class='hljl-n'>h1</span><span class='hljl-t'>
  </span><span class='hljl-n'>h2</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-n'>B</span><span class='hljl-oB'>.</span><span class='hljl-n'>h2</span><span class='hljl-t'>  
  </span><span class='hljl-n'>mychain</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>Chain</span><span class='hljl-p'>(</span><span class='hljl-nf'>Dense</span><span class='hljl-p'>(</span><span class='hljl-n'>n_in</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>h1</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>relu</span><span class='hljl-p'>),</span><span class='hljl-t'> </span><span class='hljl-nf'>Dense</span><span class='hljl-p'>(</span><span class='hljl-n'>h1</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>h2</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>relu</span><span class='hljl-p'>),</span><span class='hljl-t'> </span><span class='hljl-nf'>Dense</span><span class='hljl-p'>(</span><span class='hljl-n'>h2</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>n_out</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>relu</span><span class='hljl-p'>))</span><span class='hljl-t'>
  </span><span class='hljl-k'>return</span><span class='hljl-p'>(</span><span class='hljl-n'>mychain</span><span class='hljl-p'>)</span><span class='hljl-t'>  
</span><span class='hljl-k'>end</span><span class='hljl-t'>

</span><span class='hljl-cs'># Pipeline with a standardizer and custom NeuralNetworkClassifier</span><span class='hljl-t'>
</span><span class='hljl-n'>pipe</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nd'>@pipeline</span><span class='hljl-p'>(</span><span class='hljl-t'>
  </span><span class='hljl-nf'>Standardizer</span><span class='hljl-p'>(),</span><span class='hljl-t'>
  </span><span class='hljl-nf'>NeuralNetworkClassifier</span><span class='hljl-p'>(</span><span class='hljl-n'>builder</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>MyANNBuilder</span><span class='hljl-p'>(</span><span class='hljl-ni'>10</span><span class='hljl-p'>,</span><span class='hljl-ni'>10</span><span class='hljl-p'>),</span><span class='hljl-t'> </span><span class='hljl-n'>epochs</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-ni'>8</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>batch_size</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-ni'>1</span><span class='hljl-p'>),</span><span class='hljl-t'>
  </span><span class='hljl-n'>prediction_type</span><span class='hljl-oB'>=:</span><span class='hljl-n'>probabilistic</span><span class='hljl-t'>
</span><span class='hljl-p'>)</span><span class='hljl-t'>

</span><span class='hljl-cs'># Fit machine</span><span class='hljl-t'>
</span><span class='hljl-n'>mach</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>machine</span><span class='hljl-p'>(</span><span class='hljl-n'>pipe</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>Xm</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>ym</span><span class='hljl-p'>);</span><span class='hljl-t'>
</span><span class='hljl-nf'>fit!</span><span class='hljl-p'>(</span><span class='hljl-n'>mach</span><span class='hljl-p'>);</span><span class='hljl-t'>

</span><span class='hljl-n'>pipe</span>
</pre>


<pre class="output">
Pipeline379&#40;
    standardizer &#61; Standardizer&#40;
            features &#61; Symbol&#91;&#93;,
            ignore &#61; false,
            ordered_factor &#61; false,
            count &#61; false&#41;,
    neural_network_classifier &#61; NeuralNetworkClassifier&#40;
            builder &#61; MyANNBuilder @721,
            finaliser &#61; NNlib.softmax,
            optimiser &#61; Flux.Optimise.ADAM&#40;0.001, &#40;0.9, 0.999&#41;, IdDict&#123;Any,
Any&#125;&#40;&#41;&#41;,
            loss &#61; Flux.crossentropy,
            epochs &#61; 8,
            batch_size &#61; 1,
            lambda &#61; 0.0,
            alpha &#61; 0.0,
            optimiser_changes_trigger_retraining &#61; false&#41;&#41; @039
</pre>


<h3>Model Evaluation</h3>
<p>Define resampling strategy</p>
<ul>
<li><p>holdout&#40;70/30 split&#41;</p>
</li>
</ul>
<p>Define measures</p>
<ul>
<li><p>crossentropy, BrierScore, area under curve</p>
</li>
</ul>


<pre class='hljl'>
<span class='hljl-cs'># Evaluate model</span><span class='hljl-t'>
</span><span class='hljl-nf'>evaluate!</span><span class='hljl-p'>(</span><span class='hljl-n'>mach</span><span class='hljl-p'>,</span><span class='hljl-t'> 
  </span><span class='hljl-n'>resampling</span><span class='hljl-oB'>=</span><span class='hljl-nf'>Holdout</span><span class='hljl-p'>(</span><span class='hljl-n'>fraction_train</span><span class='hljl-oB'>=</span><span class='hljl-nfB'>0.7</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>shuffle</span><span class='hljl-oB'>=</span><span class='hljl-kc'>true</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>rng</span><span class='hljl-oB'>=</span><span class='hljl-ni'>1234</span><span class='hljl-p'>),</span><span class='hljl-t'>
  </span><span class='hljl-n'>measures</span><span class='hljl-oB'>=</span><span class='hljl-p'>[</span><span class='hljl-n'>cross_entropy</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-nf'>BrierScore</span><span class='hljl-p'>(),</span><span class='hljl-t'> </span><span class='hljl-n'>area_under_curve</span><span class='hljl-p'>],</span><span class='hljl-t'>
  </span><span class='hljl-n'>check_measure</span><span class='hljl-oB'>=</span><span class='hljl-kc'>false</span><span class='hljl-p'>,</span><span class='hljl-t'>
  </span><span class='hljl-n'>verbosity</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-ni'>0</span><span class='hljl-t'>
</span><span class='hljl-p'>)</span>
</pre>


<pre class="output">
┌──────────────────────────────────────┬───────────────┬────────────────┐
│ _.measure                            │ _.measurement │ _.per_fold     │
├──────────────────────────────────────┼───────────────┼────────────────┤
│ cross_entropy                        │ 0.865         │ Float32&#91;0.865&#93; │
│ BrierScore&#123;MLJBase.UnivariateFinite&#125; │ -0.53         │ Float32&#91;-0.53&#93; │
│ area_under_curve                     │ 0.816         │ &#91;0.816&#93;        │
└──────────────────────────────────────┴───────────────┴────────────────┘
_.per_observation &#61; &#91;&#91;&#91;0.715, 1.98, ..., 0.304&#93;&#93;, &#91;&#91;-0.456, -1.21, ..., -0.
132&#93;&#93;, missing&#93;
_.fitted_params_per_fold &#61; &#91; … &#93;
_.report_per_fold &#61; &#91; … &#93;
</pre>


<p>Finally we look at the accuracy based on the testing set, which made up 30&#37; of the data. </p>


<pre class='hljl'>
<span class='hljl-cs'># Here we test predictions actual results using the Xv data</span><span class='hljl-t'>
</span><span class='hljl-n'>acc</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>accuracy</span><span class='hljl-p'>(</span><span class='hljl-nf'>predict_mode</span><span class='hljl-p'>(</span><span class='hljl-n'>mach</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>Xv</span><span class='hljl-p'>),</span><span class='hljl-t'> </span><span class='hljl-n'>yv</span><span class='hljl-p'>);</span><span class='hljl-t'>
</span><span class='hljl-n'>acc</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>round</span><span class='hljl-p'>(</span><span class='hljl-n'>acc</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>digits</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-ni'>3</span><span class='hljl-p'>);</span><span class='hljl-t'>

</span><span class='hljl-nf'>println</span><span class='hljl-p'>(</span><span class='hljl-s'>&quot;The final accuracy is </span><span class='hljl-si'>$</span><span class='hljl-p'>(</span><span class='hljl-n'>acc</span><span class='hljl-p'>)</span><span class='hljl-s'>&quot;</span><span class='hljl-p'>)</span>
</pre>


<pre class="output">
The final accuracy is 0.585
</pre>



        <HR/>
        <div class="footer">
          <p>
            Published from <a href="wine.jmd">wine.jmd</a>
            using <a href="http://github.com/JunoLab/Weave.jl">Weave.jl</a> v0.10.3 on 2020-10-01.
          </p>
        </div>
      </div>
    </div>
  </div>
</BODY>

</HTML>
